***************
XTAR
***************
XTAR，即“X Star”交易之星，我们的愿景是打造一个去中心化的价值网络。

============
概述
============
XTAR是一个基于区块链协议的开源价值网络，拥有迅捷的交易速度和灵活的实用性。数以千计的客户——包括去中心化交易所、非许可型交易所、数字货币钱包、新兴区块链初创企业——信任 XTAR，选择 XTAR 为他们的基础设施提供技术支持，提高他们的协作性、稳定性并降低他们的成本。

XTAR的愿景：打造媲美中心化交易所的体验及速度，同时降低价值导入、流通以及协作的成本，并有更多的资源实现激励的价值网络体系。

优势：非许可型/价值型/协作性/可伸缩性/稳定/快速

================
资源模型
================
XTAR的业务场景为小额高频，因此对于每一笔交易收费是不合理的，会极大的降低用户的交易兴趣。但是系统又要考虑避免DDOS等问题。因此我们引入了NET/CPU/RAM机制。

1.	CPU

CPU 用户所拥有的计算资源，当资源耗尽时，系统认为交易执行失败。CPU由抵押产生，每24小时自动恢复。

2.	NET

NET 决定了用户的交易是否会被系统打包加入区块内，作为系统处理对象。因此如果用户没有足够的NET网络则不会处理他的交易。交易按照先进先出规则。

3.	RAM

RAM 用户所拥有的存储资源，当资源耗尽时，系统认为交易执行失败。RAM由用户通过bancor协议购买产生。系统为激励用户降低存储，用户在减少名下存储内容时，会返还相应的RAM。所有的超级节点可以按照某个速率定期增加RAM的供给，以减少RAM的波动

================
Payer
================
从技术的角度上来讲，NET/CPU/RAM的设计是一种很好的设计，但也让用户的学习成本变高了，会极大的损害用户的参与意愿。

因此XTAR增加了一个Payer的设计，Payer的定义为提供交易运行在XTAR系统所需资源的专业服务提供者，他为用户代付，而用户可能以某种形式支付了报酬，也可能是Payer和用户在线下协商达成了协定。

可能是因为投票而提供的免费服务，可能是某种价值支付关系，例如法币，XTAR，或者他自己发行的火币，也可能是包月服务等等。

而在链上，为了支持Payer的专业化发展，对资源的staking，我们增加了时长因素，对超过某一个时长的staking，可以在资源的竞争中更有优势。

================
账户系统
================
传统的公钥权限体系，权限的最小粒度是公钥，这对很多的风险控制和业务目标是不友好的。XTAR设计了全新的基于公钥的授权体系以允许更细化的权限控制，且不会带来额外的使用成本。XTAR地址（也称为普通账户）是整个系统的最小单位，上面存放了钱和资源；普通账户的权限由私钥控制，跟其他区块链系统一样可免费获得。

XTAR允许公钥所有人基于业务方法级别指定自己的业务代理账户，一方面可以便于做更合理的业务权限和风险控制设计，另外一方面允许原账户即使在业务操作账户丢失等场景下，也可以通过重置业务账户的方法，回收对权限的控制。

具体说就是允许公钥所有人设置对应的`active` 和 `payer`；开发者们也可以提出自定义名称的权限。

- `active` 权限有所有的操作权限；
- `payer` 权限仅用来支付系统资源（Net/Cpu）和RAM。

简单来说， `active`权限可以执行全部操作。 `payer`仅能支付系统资源（Net/Cpu）和RAM。

账户还可以拥有自定义的权限，以便账户的扩展性管理。自定义action权限增加当前合约账户下，授予/解决某一action+某地址的操作权限。

为了方便记忆和使用，XTAR系统增加了别名，别名是对地址的别名，一个地址可以绑定多个别名。别名分为普通域名、顶级域名及保留域名，具体可参见XNS系统。

================
XNS系统
================
XNS是链上地址和域名的映射机制，用户可以使用域名代替自己的公钥地址。
所有域名跟地址是1：1的隐射关系，地址跟域名则是1：N的隐射关系。Owner可以在任意时刻绑定域名，拉黑域名，owner有设定默认域名的方法。

1. 共同规则

   域名拉黑也就是无效后，不可逆，即域名永久不可使用且无法再流通；
   新设域名需要顶级域名，上级域名与接收方三方同意才可以成功；
   域名总长不得超过32位；
   单字段长度不得超过12位（不被点截断的字段）。

2. 普通域名

   普通域名长度为12位，域名中不得含点，不得转移，不可开次级域名，一个用户仅能申请一个。

3. 顶级域名

   顶级域名可转移；
   下次域名的发行需要顶级域名同意；
   顶级域名的转让不支持从合约转出；
   发行新域名时，可保留拉黑权（发行后不可更改）。
   注意：多次域名不可转移。

4. 保留域名

   初期为避免混淆，保留一些可能造成混淆的域名，如.com, .cn, .net, .org, .io, .one, .global, .prime, .x, .us, .co, .star, .dex, .edu, .system等，基金会有权限删除保留域名内的记录。

================
XTAR Tokens
================


================
资产映射
================
区别于传统的智能合约发币，XTAR Chain内置了统一的一键资产发行方式，使资产发行更加高效和安全，用户无需许可即可发布或映射通证。对于用户来说只需要填写一些基本参数如名称、发行总量等，就可以发行或者映射通证；统一的一键资产发行合约本身已经经过了安全审计，因此省去了项目方资产发行时要再次安全审计的麻烦，加快并简化了资产发行。

此Token是一套统一的资产模型，包含资产的注册，发行，转移，销毁等功能，对于映射的资产，预留了资产从哪里来，到哪里去的描述性信息。

============
其他协议
============
如果希望能够产生更广泛的协作，且是开放的协作，我们需要在网络内提供一些协议标准。这些协议就可以作为后来者快速接入业务及协作的基础，减少重复性的工作。标准协议在通信高度发达的时代是非常重要的，这使得价值在网络中快速流通变得更便捷。20世纪70年代诞生的TCP/IP协议实现了各种硬件和不同网络之间的连接和协作，也赋予了互联网开放的特性，直接催生了今天人们天天使用的神奇的互联网 。XTAR也会随着生态的发展推动各类协议的制定。

截止到目前我们已完成的协议有：通证协议、Payer协议、域名协议、拍卖协议、DEX协议等，一些其他协议也在紧锣密鼓制定中，后续会逐步完善并开放。

============
共识系统
============
三权分立

三权分立原则的起源可追溯至亚里士多德时代。是一种关于权力资源配置的政治平衡学说，主张立法、行政和司法三种权力分别由不同机关掌握，各自独立行使、相互监督制衡。在国家中立法权指国会的上下议院制度，行政权指政府，司法权指法院，既分割限制了权利的使用，又互相制衡监督保证效力的正常运行，在近代史中被证明为非常行之有效的方法。

在链上治理中我们同样在思考引入类似的机制，期望创造一个平衡的社区自治体系。我们把链上的权利同样也分成3个结构，立法权，出块权和采用权。

•	立法权 => 下议院 规则制定机构

	立法权为链上的规则制定权。以议案的形式讨论，对形成的决议在链上实施调整。并可以通过投票等决定出块权和采用权执行人。
	
•	出块权 => 政府 执行机构

	只能出块，指定执行内容，但是未必被采用
	
•	采用权 => 监督合法机构

	监督并确定合法区块权，无执行职责

在此之上我们还有同步节点可以依照规则，执行并验证所有交易内容是否符合预设的规则，如果发现问题则可停止同步。

OBFT

OBFT共识是由DPOS产生的超级节点集群，即节点是由抵押以及投票排名决定的超级节点。因为OBFT中采用了VRF，因此共识集群的规模理论上可以是支持无限大的。但是基于经济效益的考虑，共识集群的大小最终要由实际的运行情况与全网投票决定。网络初期考虑引入15个共识节点，等节点稳定以后再考虑扩大共识规模。

接下来我们来说明一下OBFT混合共识的角色指定与大概的共识阶段。OBFT是混合共识模型，采用了2阶段共识，“O”即为OPEN，即希望网络更加开放。

•	第一阶段

	我们采用VRF在所有的超级节点中随机选择出块节点，在上一个出块人被确定以后，那么下一个出块人才会被确定，并且在这个之前是不可预知的。每一个区块都有1主多备的出块节点，备选节点在监测到主节点停止工作的时候会发起新区块的共识。一主多备的机制是为了保证网络的容错率以及出块效率，目标是让区块像流水一样，源源不断的产生，且不存在单点瓶颈。因此我们也称这阶段为flood，即“洪水”。
•	第二阶段

	第二阶段主要做的事情是终局，并且是批量终局。如果网络没有办法快速的终局，或者无法终局，那么对于网络来说就存在巨大的攻击风险，同时对于应用的扩展也是非常不利的，另外，如果网络无法快速的终局，快速收敛分叉，那么网络的负担也会越来越重，进一步加大系统的运行负荷，降低整个系统的运行效率。OBFT在第二阶段采用了轮换的BFT共识，在共识圈中每一个区块都轮换一批共识节点。

======================
社区贡献
======================
如果希望参与到项目的开发，请到 `XTAR Github <https://github.com/xtario/xtar>`_ 。

如果希望进入开发者社区，请点击 `Developer Group <https://github.com/xtario/xtar>`_ 。